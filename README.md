# File Converter

Веб-сервис на базе FastAPI для конвертации изображений (`png`, `jpg`, `jpeg`, `bmp`, `eps`) в формат PDF. Сервис поддерживает управление файлами сессий и интеграцию с базой данных через SQLAlchemy.

---

## Содержание

- [Особенности](#особенности)
- [Технологии](#технологии)
- [Установка](#установка)
- [Использование](#использование)

---

## Особенности

- Конвертация поддерживаемых форматов изображений (`png`, `bmp`, `jpg`, `jpeg`, `eps`) в PDF.
- Управление файлами в рамках пользовательских сессий.
- Интеграция с базой данных для управления метаданными файлов и сессиями.
- Логирование и обработка ошибок.
- Масштабируемость и возможность развертывания через Docker.

---

## Технологии

- **Python**: веб-фреймворк FastAPI
- **SQLAlchemy**: ORM для работы с базой данных
- **Redis**: слой кэширования (опционально)
- **Pillow**: обработка изображений
- **ReportLab**: генерация PDF
- **Docker**: для деплоя и настройки окружения

---

## Установка

### Предварительные требования

- Python 3.9+
- Docker (опционально для развертывания)
- Redis (опционально, если используется кэширование)
- MySQL или PostgreSQL для работы с базой данных

### Шаги

1. Склонируйте репозиторий:
   ```bash
   git clone https://github.com/your-username/file-converter.git
   cd file-converter
   ```
   
2. Настройте виртуальное окружение:
   ```bash
   python -m venv .venv
   source .venv/bin/activate  
   # Windows: .venv\Scripts\activate
   ```
3. Установка зависимостей 
   ```bash
   pip install -r requirements.txt
   ```
4. Настройте переменные окружения:  
   Скопируйте .env.example в .env и укажите необходимые значения.  
5. Выполните миграции базы данных: 
   ```bash 
   alembic upgrade head
   ```
6. Запустите приложение: 
   ```bash
   uvicorn app.main:app --reload
   ```
7. Запуск celery 
   ```bash
   celery -A app.celery_worker.celery_app worker --loglevel=info -Q file_task
   ```
### Запуск через docker-compose 
   ```bash
   docker-compose up -d
   ```

## Использование
* Все эндпоинты находятся в документации Swagger http://localhost:8000/docs
* Для тестирования в tools/requests.http есть готовые запросы
